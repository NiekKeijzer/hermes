{% extends "base.html" %}

{% load i18n %}
{% load crispy_forms_filters %}
{% load core %}

{% block extra_head %}
    <link rel="stylesheet"
      href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.2/build/styles/default.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.2/build/highlight.min.js"></script>
    <script>hljs.highlightAll()</script>
{% endblock %}

{% block title %}
    {% blocktrans %}
        Details of {{ object }}
    {% endblocktrans %}
{% endblock %}

{% block content %}

    <div class="row">
        <div class="col-12">
            <div class="float-end mt-3 mb-5">
                <a href="{% url "site-create" %}" class="btn btn-primary">
                    <i class="fas fa-plus" aria-hidden="true"></i>
                    {% trans "Add a new site" %}
                </a>

                <a href="{% url "form-site-create" site_pk=site.pk %}"
                   class="btn btn-primary">
                    <i class="fas fa-plus" aria-hidden="true"></i>
                    {% trans "Add a new form" %}
                </a>
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-12">
            <ul class="nav nav-tabs nav-fill mb-3" role="tablist">
                <li class="nav-item" role="presentation">
                    <button
                            class="nav-link active"
                            id="tab-integration"
                            data-mdb-toggle="tab"
                            data-mdb-target="#integration"
                            type="button"
                            role="tab"
                            aria-controls="{% trans "Integration" %}"
                            aria-selected="true"
                    >
                        {% trans "Integration" %}
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button
                            class="nav-link"
                            id="tab-submissions"
                            data-mdb-toggle="tab"
                            data-mdb-target="#submissions"
                            type="button"
                            role="tab"
                            aria-controls="contact"
                            aria-selected="false"
                    >
                        {% trans "Submissions" %}
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button
                            class="nav-link"
                            id="tab-settings"
                            data-mdb-toggle="tab"
                            data-mdb-target="#settings"
                            type="button"
                            role="tab"
                            aria-controls="{% trans "Settings" %}"
                            aria-selected="true"
                    >
                        {% trans "Settings" %}
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button
                            class="nav-link"
                            id="tab-hooks"
                            data-mdb-toggle="tab"
                            data-mdb-target="#hooks"
                            type="button"
                            role="tab"
                            aria-controls="{% trans "Hooks" %}"
                            aria-selected="false"
                    >
                        {% trans "Hooks" %}
                    </button>
                </li>
            </ul>

            <div class="tab-content">
                <div
                        class="tab-pane fade show active p-3"
                        id="integration"
                        role="tabpanel"
                        aria-labelledby="tab-integration"
                >
                    {% include "forms/tabs/integration.html" %}
                </div>
                <div
                        class="tab-pane fade p-3"
                        id="submissions"
                        role="tabpanel"
                        aria-labelledby="tab-submissions"
                >
                    {% include "forms/tabs/submissions.html" %}
                </div>
                <div
                        class="tab-pane fade show p-3"
                        id="settings"
                        role="tabpanel"
                        aria-labelledby="tab-settings"
                >
                    {% include "forms/tabs/settings.html" %}
                </div>
                <div
                        class="tab-pane fade p-3"
                        id="hooks"
                        role="tabpanel"
                        aria-labelledby="tab-hooks"
                >
                    {% trans "Coming soon" %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}